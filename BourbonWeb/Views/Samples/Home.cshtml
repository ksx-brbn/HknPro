@model BourbonWeb.Models.HomeViewModel

@{
    ViewData["Title"] = "HOME";
}

@* toastæ¡ˆ1 XXX *@
<div class="toast-container position-fixed top-0 start-50 translate-middle-x p-3" style="z-index: 1200">
    <div id="noticeToast1"
         class="toast bg-warning text-dark border border-dark shadow"
         style="width: 800px; max-width: 90%;"
         role="alert" aria-live="assertive" aria-atomic="true">

        <div class="toast-header bg-dark text-white">
            <strong class="me-auto">âš  ãŠçŸ¥ã‚‰ã›</strong>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>

        <div class="toast-body fs-5 fw-bold">
            2025å¹´10æœˆ31æ—¥21æ™‚ã‹ã‚‰ã‚·ã‚¹ãƒ†ãƒ ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã®ãŸã‚åˆ©ç”¨ã§ããªããªã‚Šã¾ã™ã€‚<br />
            ã»ã’ã»ã’
        </div>
    </div>
</div>

@* toastæ¡ˆ2 XXX *@
<div class="toast-container position-fixed top-0 start-50 translate-middle-x p-3" style="z-index: 1200">
    <div id="noticeToast2"
         class="toast border-0 shadow-lg text-white rounded-4"
         style="width: 800px; max-width: 90%; background: linear-gradient(135deg, #4e54c8, #8f94fb);"
         role="alert" aria-live="assertive" aria-atomic="true">
        <div class="d-flex align-items-center">
            <div class="toast-body fs-5">
                <span class="fw-bold">ğŸ”” ãŠçŸ¥ã‚‰ã›</span><br />
                2025å¹´10æœˆ31æ—¥21æ™‚ã‹ã‚‰ã‚·ã‚¹ãƒ†ãƒ ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã®ãŸã‚åˆ©ç”¨ã§ããªããªã‚Šã¾ã™ã€‚<br />
                ã»ã’ã»ã’
            </div>
            <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
    </div>
</div>

@* toastæ¡ˆ3 ãƒˆãƒƒãƒ—ä¸­å¤®ã®ãƒˆãƒ¼ã‚¹ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«ã€é’åŸºèª¿ã§è§’ä¸¸ãƒ»ã‚·ãƒ£ãƒ‰ã‚¦ä»˜ãã®æ–°ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’è¿½åŠ ã—ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³ã‚’æ¨ªä¸¦ã³ã«é…ç½® *@
<div class="toast-container position-fixed top-0 start-50 translate-middle-x p-3" style="z-index: 1200">
    <div id="noticeToast3"
         class="toast align-items-center bg-primary text-white border-0 rounded-3 shadow-lg"
         style="width: 800px; max-width: 90%;"
         role="alert" aria-live="assertive" aria-atomic="true">
        <div class="d-flex">
            <div class="toast-body fs-5">
                2025å¹´10æœˆ31æ—¥21æ™‚ã‹ã‚‰ã‚·ã‚¹ãƒ†ãƒ ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã®ãŸã‚åˆ©ç”¨ã§ããªããªã‚Šã¾ã™ã€‚<br />
                ã»ã’ã»ã’
            </div>
            <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
    </div>
</div>

<div class="alert alert-warning" role="alert">
    2025å¹´10æœˆ31æ—¥21æ™‚ã‹ã‚‰ã‚·ã‚¹ãƒ†ãƒ ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã®ãŸã‚åˆ©ç”¨ã§ããªããªã‚Šã¾ã™ã€‚<br />
    ã»ã’ã»ã’
</div>

<div class="d-flex align-items-center justify-content-between mb-1">
    <div class="d-flex align-items-center">
        <p class="mb-0 me-3">é‘‘æœªä½œæˆä¸€è¦§</p>
    </div>
    <div>
        @Model.MainList.TotalCount.ToString("N0") ä»¶
    </div>
</div>
@await Html.PartialAsync("_KagamiNotCreatedTable", Model.MainList)

<nav aria-label="page navigation" class="mt-3">
    <ul class="pagination justify-content-center">
        <li class="page-item @(Model.MainList.HasPreviousPage ? "" : "disabled")">
            <a class="page-link" asp-route-mainPageNumber="@(Model.MainList.PageIndex - 1)" asp-route-queryPageNumber="@Model.QueryList.PageIndex">å‰ã¸</a>
        </li>
        <li class="page-item @(Model.MainList.PageIndex == 1 ? "active" : "")">
            <a class="page-link" asp-route-mainPageNumber="1" asp-route-queryPageNumber="@Model.QueryList.PageIndex">1</a>
        </li>
        @if (Model.MainList.PageIndex > 3)
        {
            <li class="page-item disabled"><span class="page-link">â€¦</span></li>
        }
        @for (var i = Math.Max(2, Model.MainList.PageIndex - 1); i <= Math.Min(Model.MainList.TotalPages - 1, Model.MainList.PageIndex + 1); i++)
        {
            <li class="page-item @(i == Model.MainList.PageIndex ? "active" : "")">
                <a class="page-link" asp-route-mainPageNumber="@i" asp-route-queryPageNumber="@Model.QueryList.PageIndex">@i</a>
            </li>
        }
        @if (Model.MainList.PageIndex < Model.MainList.TotalPages - 2)
        {
            <li class="page-item disabled"><span class="page-link">â€¦</span></li>
        }
        @if (Model.MainList.TotalPages > 1)
        {
            <li class="page-item @(Model.MainList.PageIndex == Model.MainList.TotalPages ? "active" : "")">
                <a class="page-link" asp-route-mainPageNumber="@Model.MainList.TotalPages" asp-route-queryPageNumber="@Model.QueryList.PageIndex">@Model.MainList.TotalPages</a>
            </li>
        }
        <li class="page-item @(Model.MainList.HasNextPage ? "" : "disabled")">
            <a class="page-link" asp-route-mainPageNumber="@(Model.MainList.PageIndex + 1)" asp-route-queryPageNumber="@Model.QueryList.PageIndex">æ¬¡ã¸</a>
        </li>
    </ul>
</nav>

<hr />
<div class="d-flex align-items-center justify-content-between mb-1">
    <div class="d-flex align-items-center">
        <p class="mb-0 me-3">æ”¯æ‰•å¾…ã¡ä¸€è¦§</p>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="paymentStatus" id="status-all" value="all" checked>
            <label class="form-check-label" for="status-all">å…¨ã¦</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="paymentStatus" id="status-waiting" value="waiting">
            <label class="form-check-label" for="status-waiting">æ”¯æ‰•ç¢ºå®šå¾…</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="paymentStatus" id="status-approved" value="approved">
            <label class="form-check-label" for="status-approved">ç›¸æ®ºæ‰¿èªæ¸ˆ</label>
        </div>
    </div>
    <div>
        @Model.QueryList.TotalCount.ToString("N0") ä»¶
    </div>
</div>
@await Html.PartialAsync("_AwaitingPaymentTable", Model.QueryList)

<nav aria-label="page navigation" class="mt-3">
    <ul class="pagination justify-content-center">
        <li class="page-item @(Model.QueryList.HasPreviousPage ? "" : "disabled")">
            <a class="page-link" asp-route-queryPageNumber="@(Model.QueryList.PageIndex - 1)" asp-route-mainPageNumber="@Model.MainList.PageIndex">å‰ã¸</a>
        </li>
        <li class="page-item @(Model.QueryList.PageIndex == 1 ? "active" : "")">
            <a class="page-link" asp-route-queryPageNumber="1" asp-route-mainPageNumber="@Model.MainList.PageIndex">1</a>
        </li>
        @if (Model.QueryList.PageIndex > 3)
        {
            <li class="page-item disabled"><span class="page-link">â€¦</span></li>
        }
        @for (var i = Math.Max(2, Model.QueryList.PageIndex - 1); i <= Math.Min(Model.QueryList.TotalPages - 1, Model.QueryList.PageIndex + 1); i++)
        {
            <li class="page-item @(i == Model.QueryList.PageIndex ? "active" : "")">
                <a class="page-link" asp-route-queryPageNumber="@i" asp-route-mainPageNumber="@Model.MainList.PageIndex">@i</a>
            </li>
        }
        @if (Model.QueryList.PageIndex < Model.QueryList.TotalPages - 2)
        {
            <li class="page-item disabled"><span class="page-link">â€¦</span></li>
        }
        @if (Model.QueryList.TotalPages > 1)
        {
            <li class="page-item @(Model.QueryList.PageIndex == Model.QueryList.TotalPages ? "active" : "")">
                <a class="page-link" asp-route-queryPageNumber="@Model.QueryList.TotalPages" asp-route-mainPageNumber="@Model.MainList.PageIndex">@Model.QueryList.TotalPages</a>
            </li>
        }
        <li class="page-item @(Model.QueryList.HasNextPage ? "" : "disabled")">
            <a class="page-link" asp-route-queryPageNumber="@(Model.QueryList.PageIndex + 1)" asp-route-mainPageNumber="@Model.MainList.PageIndex">æ¬¡ã¸</a>
        </li>
    </ul>
</nav>

<hr />
<button id="showToastButton1" class="btn btn-primary mb-3">ãƒˆãƒ¼ã‚¹ãƒˆæ¡ˆâ‘ </button>
<button id="showToastButton2" class="btn btn-primary mb-3">ãƒˆãƒ¼ã‚¹ãƒˆæ¡ˆâ‘¡</button>
<button id="showToastButton3" class="btn btn-primary mb-3">ãƒˆãƒ¼ã‚¹ãƒˆæ¡ˆâ‘¢</button>

<div class="card mt-5">
    <div class="card-header">è¦ä»¶ä¸€è¦§</div>
    <div class="card-body">
        <ul class="mb-0">
            <li></li>
        </ul>
    </div>
</div>
<div class="card mt-5">
    <div class="card-header">ç¢ºèªäº‹é …</div>
    <div class="card-body">
        <ul class="mb-0">
            <li>ç”»é¢å¸¸æ™‚è¡¨ç¤ºã«ã™ã‚‹ã‹ãƒˆãƒ¼ã‚¹ãƒˆè¡¨ç¤ºã«ã™ã‚‹ã‹</li>
            <li>
                ãƒˆãƒ¼ã‚¹ãƒˆè¡¨ç¤ºã®å ´åˆ
                <ul>
                    <li>ä½•ç§’è¡¨ç¤ºã™ã‚‹ã‹</li>
                    <li>ã‚·ãƒ³ãƒ—ãƒ«ã‹å¼·èª¿ã‹</li>
                    <li>ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã«æˆ»ã‚‹ãŸã³ã«è¡¨ç¤ºã•ã‚Œã‚‹ã®ã¯ç…©ã‚ã—ã„ã‹</li>
                </ul>
            </li>
        </ul>
    </div>
</div>
<div class="card mt-5">
    <div class="card-header">æ©Ÿèƒ½æ¦‚è¦</div>
    <div class="card-body">
        <ul class="mb-0">
            <li>ã€Œé‘‘æœªä½œæˆä¸€è¦§ã€ã¨ã€Œæ”¯æ‰•å¾…ã¡ä¸€è¦§ã€ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚</li>
            <li>ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚ˆã‚Šå„ä¸€è¦§ã®ãƒšãƒ¼ã‚¸ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‰ã‚Œã¾ã™ã€‚</li>
        </ul>
    </div>
</div>
<div class="card mt-5">
    <div class="card-header">TODO</div>
    <div class="card-body">
        <ul class="mb-0">
            <li></li>
        </ul>
    </div>
</div>

@section Scripts {
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var toastEl = document.getElementById('noticeToast1');
            var button = document.getElementById('showToastButton1');
            if (toastEl && button) {
                var toast = new bootstrap.Toast(toastEl, {
                    delay: 5000,    // 5ç§’å¾Œã«æ¶ˆãˆã‚‹
                    autohide: true  // falseã«ã™ã‚‹ã¨è‡ªå‹•ã§ã¯æ¶ˆãˆãªã„
                });
                button.addEventListener('click', function () {
                    toast.show();
                });
            }

            var toastEl2 = document.getElementById('noticeToast2');
            var button2 = document.getElementById('showToastButton2');
            if (toastEl2 && button2) {
                var toast2 = new bootstrap.Toast(toastEl2, {
                    delay: 5000,
                    autohide: true
                });
                button2.addEventListener('click', function () {
                    toast2.show();
                });
            }

            var toastEl3 = document.getElementById('noticeToast3');
            var button3 = document.getElementById('showToastButton3');
            if (toastEl3 && button3) {
                var toast3 = new bootstrap.Toast(toastEl3, {
                    delay: 5000,
                    autohide: true
                });
                button3.addEventListener('click', function () {
                    toast3.show();
                });
            }
        });
    </script>
}
